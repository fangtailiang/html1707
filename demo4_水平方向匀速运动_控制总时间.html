<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">	
		#box {width: 100px;height: 100px;background: #f00; position: absolute; left : 100px; top:100px; }
		#box2 {width: 100px;height: 100px;background: #f00; position: absolute; left : 400px; top:10px; }
		#left {
			width: 0;
			height: 300px;
			border-left:1px solid;
			position: absolute;
			left:100px;
		}
		#right {
			width: 0;
			height: 300px;
			border-left:1px solid;
			position: absolute;
			left:800px;
		}
	</style>
</head>
<body>
	<div id="box"></div>
	<div id="box2"></div>
	<div id="left"></div>
	<div id="right"></div>
	<button id="start">开始</button>
	<button id="start2">开始2</button>

	<script src="js/tools.js"></script>
	<script>
		$("#start").onclick = function(){
			// 设置运动结束位置
			var end = 800;
			// 设置运动总时间
			var speed = 1000;
			// 获取初始定位位置
			var start = parseFloat(css($("#box"), "left"));
			// 记录计时器启动前的时间
			var startTime = +new Date();
			// 启动计时器，运动
			var timer = setInterval(function(){
				// 记录当前计时器函数执行的时间
				var currTime = +new Date();
				// 算出时间差，即运动经过的时间
				var diff = currTime - startTime;
				// 将时间差与总时间求较小值
				diff = Math.min(diff, speed);
				// 计算当前步定位位置
				var _left = diff * ((end - start) / speed) + start;
				// 设置 CSS 样式
				$("#box").style["left"] = _left + "px";
				// 判断是否停止计时器
				if (diff >= speed) {
					clearInterval(timer);
				}
			}, 1000/60);
		}

		/*$("#start2").onclick = function(){
			// 设置运动结束位置
			var end = 400;
			// 设置运动总时间
			var speed = 1000;
			// 获取初始定位位置
			var start = parseFloat(css($("#box2"), "top"));
			// 记录计时器启动前的时间
			var startTime = +new Date();
			// 启动计时器，运动
			var timer = setInterval(function(){
				// 记录当前计时器函数执行的时间
				var currTime = +new Date();
				// 算出时间差，即运动经过的时间
				var diff = currTime - startTime;
				// 将时间差与总时间求较小值
				diff = Math.min(diff, speed);
				// 计算当前步定位位置
				var _left = diff * ((end - start) / speed) + start;
				// 设置 CSS 样式
				$("#box2").style.top = _left + "px";
				// 判断是否停止计时器
				if (diff >= speed) {
					clearInterval(timer);
				}
			}, 1000/60);
		}*/
	</script>
</body>
</html>